<!--
  Generated template for the FivePointsGradePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>5 Points Grade</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>


    <!-- Assign the FormGroup of form to the HTML form
         via a property binding (allowing the component
         class to communicate/interact with the template -->
    <form
       [formGroup]="form"
       (ngSubmit)="manage(form.value)">
        <ion-list
           margin-bottom>
        <div
           formArrayName="technologies"
           margin-bottom>
 
 
             <!-- Assign a FormGroupName property binding to track
                  and manage each separate generated input field.
                  Also iterate through the technologies FormArray to
                  correctly track/render new input fields against
                  existing fields -->
             <section
                [formGroupName]="i"
                *ngFor="let tech of form.controls.technologies.controls; let i = index">
                <ion-item-group>
                    <ion-item-divider color="light">Course #{{ i + 1 }}</ion-item-divider>
                   <ion-item>
                      <ion-label floating>Course code:</ion-label>
                      <ion-input
                         type="text"
                         maxlength="10"
                         formControlName="code"></ion-input>
                   </ion-item>
                   <ion-item>
                      <ion-label floating>Grade</ion-label>
                      <ion-select value="5" ok-text="Okay" cancel-text="Dismiss" formControlName="grade">
                        <ion-option value="5">A</ion-option>
                        <ion-option value="4">B</ion-option>
                        <ion-option value="3">C</ion-option>
                        <ion-option value="2">D</ion-option>
                        <ion-option value="1">E</ion-option>
                        <ion-option value="0">F</ion-option>
                      </ion-select>
                    </ion-item>
                   <ion-item>
                      <ion-label floating>Units</ion-label>
                      <ion-select value="1" ok-text="Okay" cancel-text="Dismiss" formControlName="unit">
                        <ion-option value="1">1</ion-option>
                        <ion-option value="2">2</ion-option>
                        <ion-option value="3">3</ion-option>
                        <ion-option value="4">4</ion-option>
                        <ion-option value="5">5</ion-option>
                        <ion-option value="6">6</ion-option>
                      </ion-select>
                    </ion-item>
 
                   <!-- Allow generated input field to be removed -->
                   <span
                      float-right
                      ion-button
                      icon-left
                      clear
                      *ngIf="form.controls.technologies.length > 1"
                      (click)="removeInputField(i)">
                      <ion-icon name="close"></ion-icon>
                      Remove
                   </span>
                </ion-item-group>
             </section>
          </div>
 
          <!-- Allow new input field to be generated/added -->
          <span
             ion-button
             float-left
             icon-left
             clear
             (click)="addNewInputField()">
                <ion-icon name="add"></ion-icon>
                Add course
          </span>
 
       </ion-list>
 
       <!-- Only allow form to be submitted IF validation criteria for
               input fields has been successfully passed -->
          <button
           ion-button
           block
           margin-top
           color="primary"
           text-center
           [disabled]="!form.valid">Calculate GPA</button>
    </form>

</ion-content>
